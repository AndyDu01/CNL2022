<button id="scanButton">Scan</button>
<p id="log"> </p>

<script src="https://cdnjs.cloudflare.com/ajax/libs/blueimp-md5/2.10.0/js/md5.js"></script>
<script>
    str = ""

    function log(s) {
        str = str + s + "<br>";
        document.getElementById("log").innerHTML = str;
    }

    scanButton.addEventListener("click", async () => {
        log("User clicked scan button");

        try {
            const ndef = new NDEFReader();
            await ndef.scan();
            log("> Scan started");

            ndef.addEventListener("readingerror", () => {
                log("Argh! Cannot read data from the NFC tag. Try another one?");
            });

            ndef.addEventListener("reading", ({ message, serialNumber }) => {
                var md5Value = md5(serialNumber);
                log(`> Serial Number: ${serialNumber}`);
                log(`> md5 value: ${md5Value}`);

            });
        } catch (error) {
            log("Argh! " + error);
        }
    });
</script>